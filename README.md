### 1. 상품
- 가격
- 수량

### 2. 프로모션

- 이름
- 구매량
- 리턴량
- 프로모션 시작 시간
- 프로모션 종료 시간

---

# 어플리케이션 흐름

1. 프로모션이 초기화 된다
2. 프로모션 정보를 바탕으로 프로덕트가 초기화 된다.
3. 사용자 장바구니가 초기화된다.
4. 물품을 구매하면 프로덕트는 제거되고, 장바구니는 물품목록 및 가격으로 가득찬다.
5. 장바구니는 영수증으로 변환(포맷팅) 될 수 있다.

...

### Case 1 일반적 경우

- 유저가 갯수 입력
- 별다른 할인 없이 상품 반환
  - 반환 시 레포지토리에서 수량이 제거되어야 한다.

...

## 레포지토리 동작정리

1. md 데이터를 초기화하여 저장한다.
2. 저장된 데이터를 반환한다.
- 데이터는 프로모션이 있느냐에 따라 먼저 반환한다.
  - 프로모션이 있지만 수량이 부족한 경우 일반 품목을 반환한다.
3. 거래가 이루어지면(트랜잭션이 커밋되면) 수량을 차감하고, 아니라면 수량을 차감하지 않는다.
4. 수정은 이루어지지 않는다.

따라서 먼저 초기화 저장
데이터 반환
수량 차감

부터 구현한다. 이후 트랜잭션을 고려한다.


---

어플리케이션 
